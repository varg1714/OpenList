import{u as T,a as I,_ as Je,g as Nt,b as qt,o as _,p as Fe,O as x,S as $,h as wt,c as Mn,n as Y,d as M,s as ae,l as Wt,e as ve,f as r,M as Pe,i as Re,j as Le,k as je,m as O,I as Kt,T as On,F as kn,q as st,B as se,r as Ie,t as te,v as De,w as En,x as An,y as Tn,z as Gt,L as Xt,A as Fn,C as Pn,D as Rn,E as ie,G as ye,H as Ce,J as Ve,K as Qt,N as it,P as lt,Q as Me,R as ct,U as z,V as Ln,W as le,X as jn,Y as $e,Z as In,$ as Dn,a0 as N,a1 as Vn,a2 as Oe,a3 as ke,a4 as ut,a5 as dt,a6 as Bn,a7 as me,a8 as Ue,a9 as ht,aa as ee,ab as Zt,ac as zn,ad as gt,ae as Hn,af as Un,ag as v,ah as ft,ai as Ee,aj as Ne,ak as Jt,al as ne,am as Nn,an as qn,ao as Wn,ap as Be,aq as Yt,ar as Kn,as as k,at as F,au as en,av as tn,aw as nn,ax as Gn,ay as Xn,az as Qn,aA as bt,aB as rn,aC as Zn,aD as Jn,aE as Yn,aF as er,aG as tr,aH as nr,aI as yt,aJ as rr,aK as or,aL as ar,aM as sr,aN as H,aO as ir,aP as lr,aQ as cr,aR as ur,aS as dr,aT as hr,aU as gr,aV as fr,aW as pr,aX as mr,aY as vr,aZ as wr,a_ as br,a$ as yr,b0 as Cr,b1 as $r}from"./index.0596c76d.js";import{u as Sr,B as on,a as an,b as _r,c as xr}from"./index.bf378032.js";import{M as sn}from"./Markdown.4b9d4452.js";import{f as Mr,a as Or,b as kr,c as Er,d as Ar,e as Tr,g as Fr,h as Pr,i as Rr,j as Lr,k as jr,o as Ir}from"./api.fbd00b9c.js";import{u as Dr,a as ln,b as Vr}from"./useUtil.9a1609c9.js";import{A as Br,F as cn,C as zr,a as Hr,B as Ur,b as Nr,T as qr,c as Ct}from"./index.49a9f451.js";import{R as Wr}from"./index.933129fa.js";import{M as pt}from"./FolderTree.a6a83330.js";const Kr=(e,...t)=>{},Ye=new Map,Gr=(e,t)=>{Ye.set(e,t)},un=e=>{window.scroll({top:Ye.get(e)||0,behavior:"smooth"}),Kr("recoverScroll",e,Ye.get(e))};let _e;function Xr(e,t,n="replaceState"){let o=n==="location"?location.href:location.hash;if(!o.includes("?"))o=`${o}?${e}=${t}`;else if(!o.includes(e))o=`${o}&${e}=${t}`;else{const a=`(\\?|&|#)${e}([^&|^#]*)(&|$|#)`;o=o.replace(new RegExp(a),"$1"+e+"="+t+"$3")}n==="location"&&(location.href=o),n==="pushState"&&history.pushState({},"",o),n==="replaceState"&&history.replaceState({},"",o)}function $t(e){for(var t=window.location.search.substring(1),n=t.split("&"),o=0;o<n.length;o++){var a=n[o].split("=");if(a[0]==e)return a[1]}return""}const qe={};let V=1;const ns=()=>V,Qr=()=>{const e=Nt();V=1,e.type==="pagination"&&Xr("page",1),console.log("resetGlobalPage",V)},D=()=>{const{pathname:e}=T(),[,t]=I(d=>Mr(d,Je())),n=Nt();n.type==="pagination"&&$t("page")&&(V=parseInt($t("page")));const[,o]=I(d=>{const h={index:d==null?void 0:d.index,size:d==null?void 0:d.size};return Or(d==null?void 0:d.path,Je(),h.index,h.size,d==null?void 0:d.force,new qt.CancelToken(function(w){_e=w}))}),a=(d,h=!0,f=!1)=>{f&&(d=Fe(e(),d)),h?qe[d]=!0:delete qe[d]};let i=!1;const s=(d,h,f)=>{_e==null||_e(),i=h!=null?h:!1,c(""),qe[d]?u(d,V,void 0,void 0,f):l(d)},l=async d=>{x.setState($.FetchingObj);const h=await t(d);wt(h,f=>{var w;x.setObj(f),x.setProvider(f.provider),f.is_dir?(a(d),u(d,V)):(x.setReadme(f.readme),x.setRelated((w=f.related)!=null?w:[]),x.setRawUrl(f.raw_url),x.setState($.File))},c)},u=async(d,h,f,w=!1,m)=>{f||(f=n.size),f!==void 0&&n.type==="all"&&(f=void 0),V=h!=null?h:1,x.setState(w?$.FetchingMore:$.FetchingObjs);const b=await o({path:d,index:h,size:f,force:m});wt(b,C=>{var E;w?Mn(C.content):(x.setObjs((E=C.content)!=null?E:[]),x.setTotal(C.total)),x.setReadme(C.readme),x.setWrite(C.write),x.setProvider(C.provider),x.setState($.Folder),w&&(h!=null?h:1)>1||un(d)},c)},c=(d,h)=>{h===403?(x.setState($.NeedPassword),i&&Y.error(d)):x.setErr(d)},g=(d,h,f=!1)=>{u(e(),d,h,f)};return{handlePathChange:s,setPathAs:a,refresh:(d,h)=>{s(e(),d,h)},pageChange:g,loadMore:()=>{g(V+1,void 0,!0)},allLoaded:()=>V>=Math.ceil(_.total/n.size)}},Zr=()=>{const{rawLinks:e}=Dr(),{rawLink:t}=ln(),n=M();return{batchDownloadSelected:()=>{e(!0).forEach(a=>{window.open(a,"_blank")})},sendToAria2:async()=>{const o=ae().filter(l=>!l.is_dir),{aria2_rpc_url:a,aria2_rpc_secret:i,aria2_dir:s}=Wt;if(!a){Y.warning(n("home.toolbar.aria2_not_set"));return}try{for(const l of o){const u=await qt.post(a,{id:Math.random().toString(),jsonrpc:"2.0",method:"aria2.addUri",params:["token:"+i,[t(l)],{out:l.name,"check-certificate":"false"}]});console.log(u)}Y.success(n("home.toolbar.send_aria2_success"))}catch(l){console.error(l),Y.error(`failed to send to aria2: ${l}`)}}}},Se=e=>{var i;const[t,n]=ve((i=e.defaultValue)!=null?i:""),o=M(),a=()=>{var s;if(!t()){Y.warning(o("global.empty_input"));return}(s=e.onSubmit)==null||s.call(e,t()),n("")};return r(Ie,{blockScrollOnMount:!1,get opened(){return e.opened},get onClose(){return e.onClose},initialFocus:"#modal-input",get children(){return[r(Pe,{}),r(Re,{get children(){return[r(Le,{get children(){return o(e.title)}}),r(je,{get children(){return[r(O,{get when(){return e.topSlot},get children(){return e.topSlot}}),r(O,{get when(){return e.type==="text"},get fallback(){return r(Kt,{id:"modal-input",get type(){return e.type},get value(){return t()},onInput:s=>{n(s.currentTarget.value)},onKeyDown:s=>{s.key==="Enter"&&a()}})},get children(){return r(On,{id:"modal-input",get value(){return t()},onInput:s=>{n(s.currentTarget.value)}})}}),r(O,{get when(){return e.tips},get children(){return r(kn,{get children(){return e.tips}})}})]}}),r(st,{display:"flex",gap:"$2",get children(){return[r(se,{get onClick(){return e.onClose},colorScheme:"neutral",get children(){return o("global.cancel")}}),r(se,{get loading(){return e.loading},onClick:()=>a(),get children(){return o("global.ok")}})]}})]}})]}})},Jr=()=>{const{pathname:e}=T(),t=te(()=>["",...e().split("/").filter(Boolean)]),n=M(),{setPathAs:o}=D();return r(Rn,{class:"nav",w:"$full",get children(){return r(De,{get each(){return t()},children:(a,i)=>{const s=te(()=>i()===t().length-1),l=t().slice(0,i()+1).join("/"),u=En(l);let c=()=>a;return c()===""&&(c=()=>ie("home_icon")+n("manage.sidemenu.home")),r(An,{class:"nav-item",get children(){return[r(Tn,{class:"nav-link",css:{wordBreak:"break-all"},color:"unset",get _hover(){return{bgColor:Gt(),color:"unset"}},_active:{transform:"scale(.95)",transition:"0.1s"},cursor:"pointer",p:"$1",rounded:"$lg",get currentPage(){return s()},get as(){return s()?void 0:Xt},get href(){return Fn(u)},onMouseEnter:()=>o(l),children:c}),r(O,{get when(){return!s()},get children(){return r(Pn,{class:"nav-separator"})}})]}})}})}})},Yr=ye(()=>Ce(()=>import("./Folder.a2478389.js").then(e=>e.F),["assets/Folder.a2478389.js","assets/Folder.b511ba9e.css","assets/index.0596c76d.js","assets/index.15d8d646.css","assets/useUtil.9a1609c9.js","assets/api.fbd00b9c.js","assets/Paginator.4b04aa8b.js","assets/index.49a9f451.js","assets/icon.8556f243.js","assets/index.bf378032.js"])),eo=ye(()=>Ce(()=>import("./File.6af8ed63.js").then(e=>e.a),["assets/File.6af8ed63.js","assets/index.0596c76d.js","assets/index.15d8d646.css","assets/useUtil.9a1609c9.js","assets/api.fbd00b9c.js","assets/icon.8556f243.js","assets/index.bf378032.js","assets/index.49a9f451.js"])),to=ye(()=>Ce(()=>import("./Password.e8dc4f37.js"),["assets/Password.e8dc4f37.js","assets/index.0596c76d.js","assets/index.15d8d646.css","assets/index.49a9f451.js","assets/index.bf378032.js","assets/Markdown.4b9d4452.js","assets/api.fbd00b9c.js","assets/useUtil.9a1609c9.js","assets/index.933129fa.js","assets/FolderTree.a6a83330.js"]));let St=!0;const no=()=>{const e=Ve("white","$neutral3"),{pathname:t}=T(),{handlePathChange:n}=D();let o=t();return Qt(it(t,a=>{Sr(),St||Qr(),St=!1,Gr(o,window.scrollY),n(a),o=a})),r(le,{class:"obj-box",w:"$full",rounded:"$xl",get bgColor(){return e()},p:"$2",shadow:"$lg",spacing:"$2",get children(){return r(lt,{get fallback(){return r(Me,{})},get children(){return r(ct,{get children(){return[r(z,{get when(){return _.err},get children(){return r(Ln,{get msg(){return _.err},disableColor:!0})}}),r(z,{get when(){return[$.FetchingObj,$.FetchingObjs].includes(_.state)},get children(){return r(Me,{})}}),r(z,{get when(){return _.state===$.NeedPassword},get children(){return r(to,{})}}),r(z,{get when(){return[$.Folder,$.FetchingMore].includes(_.state)},get children(){return r(Yr,{})}}),r(z,{get when(){return _.state===$.File},get children(){return r(eo,{})}})]}})}})}})},ro=()=>{const e=Ve("white","$neutral3"),{proxyLink:t}=ln(),{pathname:n}=T(),o=te(it(()=>_.state,()=>{if(![$.FetchingMore,$.Folder,$.File].includes(_.state))return"";if(_.readme)return _.readme;if([$.FetchingMore,$.Folder].includes(_.state)){const s=_.objs.find(l=>l.name.toLowerCase()==="readme.md");if(s)return t(s,!0)}return""})),a=async s=>{let l={content:s};return/^https?:\/\//g.test(s)&&(l=await kr(s)),setTimeout(()=>{un(n())}),l},[i]=jn(o,a);return r(O,{get when(){return o()},get children(){return r($e,{w:"$full",rounded:"$xl",p:"$4",get bgColor(){return e()},shadow:"$lg",get children(){return r(In,{get loading(){return i.loading},get children(){return r(sn,{get children(){var s;return(s=i())==null?void 0:s.content}})}})}})}})},dn=e=>{const t=ie("home_container");return r(ct,{get fallback(){return r($e,{w:"min(99%, 980px)",get children(){return e.children}})},get children(){return r(z,{when:t==="hope_container",get children(){return r(Dn,{get children(){return e.children}})}})}})},oo=()=>r(dn,{get children(){return r(le,{class:"body",mt:"$1",py:"$2",px:"2%",minH:"80vh",w:"$full",gap:"$4",get children(){return[r(Jr,{}),r(no,{}),r(ro,{})]}})}}),ao=ut("<span>|</span>"),so=()=>{const e=M();return r(le,{class:"footer",w:"$full",py:"$4",get children(){return r(N,{spacing:"$1",get children(){return[r(Vn,{href:"https://github.com/Xhofe/alist",external:!0,get children(){return e("home.footer.powered_by")}}),ao.cloneNode(!0),r(Br,{as:Xt,get href(){return Oe.is_guest(ke())?"/@login":"/@manage"},get children(){return e(Oe.is_guest(ke())?"login.login":"home.footer.manage")}})]}})}})},_t={black:"#000",silver:"#C0C0C0",gray:"#808080",white:"#FFF",maroon:"#800000",red:"#F00",purple:"#800080",fuchsia:"#F0F",green:"#008000",lime:"#0F0",olive:"#808000",yellow:"#FF0",navy:"#000080",blue:"#00F",teal:"#008080",aqua:"#0FF",transparent:"#0000"},de="^\\s*",he="\\s*$",X="\\s*((\\.\\d+)|(\\d+(\\.\\d*)?))\\s*",Q="([0-9A-Fa-f])",Z="([0-9A-Fa-f]{2})",io=new RegExp(`${de}rgb\\s*\\(${X},${X},${X}\\)${he}`),lo=new RegExp(`${de}rgba\\s*\\(${X},${X},${X},${X}\\)${he}`),co=new RegExp(`${de}#${Q}${Q}${Q}${he}`),uo=new RegExp(`${de}#${Z}${Z}${Z}${he}`),ho=new RegExp(`${de}#${Q}${Q}${Q}${Q}${he}`),go=new RegExp(`${de}#${Z}${Z}${Z}${Z}${he}`);function A(e){return parseInt(e,16)}function hn(e){try{let t;if(t=uo.exec(e))return[A(t[1]),A(t[2]),A(t[3]),1];if(t=io.exec(e))return[B(t[1]),B(t[5]),B(t[9]),1];if(t=lo.exec(e))return[B(t[1]),B(t[5]),B(t[9]),We(t[13])];if(t=co.exec(e))return[A(t[1]+t[1]),A(t[2]+t[2]),A(t[3]+t[3]),1];if(t=go.exec(e))return[A(t[1]),A(t[2]),A(t[3]),We(A(t[4])/255)];if(t=ho.exec(e))return[A(t[1]+t[1]),A(t[2]+t[2]),A(t[3]+t[3]),We(A(t[4]+t[4])/255)];if(e in _t)return hn(_t[e]);throw new Error(`[seemly/rgba]: Invalid color value ${e}.`)}catch(t){throw t}}function fo(e){return e>1?1:e<0?0:e}function xt(e,t,n,o){return`rgba(${B(e)}, ${B(t)}, ${B(n)}, ${fo(o)})`}function Mt(e,t){const[n,o,a,i=1]=Array.isArray(e)?e:hn(e);return t.alpha?xt(n,o,a,t.alpha):xt(n,o,a,i)}function We(e){const t=Math.round(Number(e)*100)/100;return t>1?1:t<0?0:t}function B(e){const t=Math.round(Number(e));return t>255?255:t<0?0:t}const po={list:cn,grid:on,image:an},mo=()=>{const e=M();return r(gt,{get children(){return[r(dt,{as:Bn,get color(){return me()},get bgColor(){return Mt(me(),{alpha:.15})},get _hover(){return{bgColor:Mt(me(),{alpha:.2})}},"aria-label":"switch layout",compact:!0,size:"lg",get icon(){return r(ct,{get children(){return[r(z,{get when(){return Ue()==="list"},get children(){return r(cn,{})}}),r(z,{get when(){return Ue()==="grid"},get children(){return r(on,{})}}),r(z,{get when(){return Ue()==="image"},get children(){return r(an,{})}})]}})}}),r(ht,{get children(){return r(De,{get each(){return Object.entries(po)},children:t=>r(ee,{get icon(){return r(Zt,{get component(){return t[1]}})},onSelect:()=>{zn(t[0])},get children(){return e(`home.layouts.${t[0]}`)}})})}})]}})},ze=typeof window<"u"?window.navigator.userAgent:"";/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(ze);/^((?!chrome|android).)*safari/i.test(ze);/MicroMessenger/i.test(ze);/MSIE|Trident/i.test(ze);var zt,Ht,Ut;const vo=(Ut=(Ht=(zt=window==null?void 0:window.navigator)==null?void 0:zt.platform)!=null?Ht:"")==null?void 0:Ut.includes("Mac"),wo=()=>{const e=ie("logo").split(`
`),t=Ve(e[0],e.pop());return r(Jt,{class:"header",w:"$full",get children(){return r(dn,{get children(){return r(N,{px:"calc(2% + 0.5rem)",py:"$2",w:"$full",justifyContent:"space-between",get children(){return[r(N,{class:"header-left",h:"44px",get children(){return r(Hn,{get src(){return t()},h:"$full",w:"auto",get fallback(){return r(Un,{})}})}}),r(N,{class:"header-right",spacing:"$2",get children(){return r(O,{get when(){return _.state===$.Folder},get children(){return[r(O,{get when(){return ie("search_index")!=="none"},get children(){return r(N,{bg:"$neutral4",w:"$32",p:"$2",rounded:"$md",justifyContent:"space-between",border:"2px solid transparent",cursor:"pointer",_hover:{borderColor:"$info6"},onClick:()=>{v.emit("tool","search")},get children(){return[r(ft,{as:_r}),r(N,{get children(){return[Ee(()=>vo?r(Ne,{children:"Cmd"}):r(Ne,{children:"Ctrl"})),r(Ne,{children:"K"})]}})]}})}}),r(mo,{})]}})}})]}})}})}})};function bo(e){return ne({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path stroke="none" d="M0 0h24v24H0z"/><path d="M9 11l3 3 8-8"/><path d="M20 12v6a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h9"/>'},e)}function yo(e){return ne({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path stroke="none" d="M0 0h24v24H0z"/><rect width="12" height="12" x="8" y="8" rx="2"/><path d="M16 8V6a2 2 0 00-2-2H6a2 2 0 00-2 2v8a2 2 0 002 2h2"/>'},e)}function rs(e){return ne({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path stroke="none" d="M0 0h24v24H0z"/><path d="M11 7H6a2 2 0 00-2 2v9a2 2 0 002 2h9a2 2 0 002-2v-5M10 14L20 4M15 4h5v5"/>'},e)}function Co(e){return ne({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path stroke="none" d="M0 0h24v24H0z"/><path d="M14 3v4a1 1 0 001 1h4"/><path d="M17 21H7a2 2 0 01-2-2V5a2 2 0 012-2h7l5 5v11a2 2 0 01-2 2zM9 15h6"/><path d="M12.5 17.5L15 15l-2.5-2.5"/>'},e)}function $o(e){return ne({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5 0 005 0l4-4a3.5 3.5 0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5 0 00-5 0l-4 4a3.5 3.5 0 005 5l.5-.5"/>'},e)}function So(e){return ne({a:{viewBox:"0 0 16 16"},c:'<path fill="currentColor" d="M11 8v6h1V8h2.5l-3-3-3 3zM1 3h1.5v1H1V3zM3 3h1.5v1H3V3zM5 3h1v1.5H5V3zM1 6.5h1V8H1V6.5zM2.5 7H4v1H2.5V7zM4.5 7H6v1H4.5V7zM1 4.5h1V6H1V4.5zM5 5h1v1.5H5V5zM5 11v3H2v-3h3zm1-1H1v5h5v-5z"/>'},e)}function os(e){return ne({a:{viewBox:"0 0 16 16"},c:'<path fill="currentColor" d="M14 6c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1s1-.45 1-1V7c0-.55-.45-1-1-1zM2 6c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1s1-.45 1-1V7c0-.55-.45-1-1-1zm1.5 5.5A1.5 1.5 0 005 13v2c0 .55.45 1 1 1s1-.45 1-1v-2h2v2c0 .55.45 1 1 1s1-.45 1-1v-2a1.5 1.5 0 001.5-1.5V6h-9v5.5zM12.472 5a4.5 4.5 0 00-2.025-3.276l.5-1.001a.5.5 0 00-.895-.447L9.55 1.28l-.13-.052a4.504 4.504 0 00-2.84 0l-.13.052L5.948.276a.5.5 0 00-.895.447l.5 1.001A4.499 4.499 0 003.528 5v.5H12.5V5h-.028zM6.5 4a.5.5 0 01-.001-1h.002A.5.5 0 016.5 4zm3 0a.5.5 0 01-.001-1h.003a.5.5 0 01-.001 1z"/>'},e)}const J={rename:{icon:zr,color:"$accent9"},copy:{icon:yo,color:"$success9"},move:{icon:Co,color:"$warning9"},delete:{icon:Nn,color:"$danger9"},copy_link:{icon:$o,color:"$info9"},mkdir:{icon:Hr,p:!0},recursive_move:{icon:So,p:!0},regex_rename:{icon:Ur,p:!0},new_file:{icon:Nr,p:!0},cancel_select:{icon:qr},download:{icon:qn,color:"$primary9"}},Ae=e=>{const t=Wn.findIndex(o=>o===e.name);if(t!==-1&&!Oe.can(ke(),t))return null;const n=M();return r(Yt,{placement:"top",withArrow:!0,get label(){return n(`home.toolbar.${e.name}`)},get children(){return r(ft,Be({get class(){return`toolbar-${e.name}`},get _hover(){return{bgColor:Gt()}},_focus:{outline:"none"},cursor:"pointer",boxSize:"$7",rounded:"$md",get p(){var o;return(o=J[e.name])!=null&&o.p?"$1_5":"$1"},_active:{transform:"scale(.94)",transition:"0.2s"},get as(){var o;return(o=J[e.name])==null?void 0:o.icon},get color(){var o;return(o=J[e.name])==null?void 0:o.color}},e))}})},L=e=>{const t=M();return r(Yt,{get disabled(){return!e.tips},placement:"left",withArrow:!0,get label(){return t(`home.toolbar.${e.tips}`)},get children(){return r(ft,Be({get color(){return me()},get _hover(){return{bgColor:me(),color:"white"}},_focus:{outline:"none"},cursor:"pointer",boxSize:"$8",rounded:"$lg",p:"$1",_active:{transform:"scale(.94)",transition:"0.2s"},get as(){return e.icon}},e))}})},_o=()=>{const e=M(),{copySelectedPreviewPage:t,copySelectedRawLink:n}=Vr(),o="neutral";return r(gt,{placement:"top",offset:10,get children(){return[r(dt,{as:Ae,name:"copy_link"}),r(ht,{get children(){return[r(ee,{colorScheme:o,onSelect:()=>{t()},get children(){return e("home.toolbar.preview_page")}}),r(ee,{colorScheme:o,onSelect:()=>{n()},get children(){return e("home.toolbar.down_link")}}),r(ee,{colorScheme:o,onSelect:()=>{n(!0)},get children(){return e("home.toolbar.encode_down_link")}})]}})]}})},xo=ut("<p></p>"),Mo=()=>{const e=M(),t="neutral",{batchDownloadSelected:n,sendToAria2:o}=Zr();return r(gt,{placement:"top",offset:10,get children(){return[r(dt,{as:Ae,name:"download"}),r(ht,{get children(){return[r(ee,{colorScheme:t,onSelect:n,get children(){return e("home.toolbar.batch_download")}}),r(O,{get when(){return Oe.is_admin(ke())||Kn("package_download")},get children(){return r(ee,{colorScheme:t,onSelect:()=>{v.emit("tool","package_download")},get children(){return e("home.toolbar.package_download")}})}}),r(ee,{colorScheme:t,onSelect:o,get children(){return e("home.toolbar.send_aria2")}})]}})]}})},Oo=ye(()=>Ce(()=>import("./PackageDownload.2499d7b9.js"),["assets/PackageDownload.2499d7b9.js","assets/index.0596c76d.js","assets/index.15d8d646.css","assets/api.fbd00b9c.js","assets/useUtil.9a1609c9.js"])),ko=()=>{const e=M(),t=l=>{l==="package_download"&&o()};v.on("tool",t),k(()=>{v.off("tool",t)});const{isOpen:n,onOpen:o,onClose:a}=F(),[i,s]=ve("pre_tips");return r(Ie,{blockScrollOnMount:!1,get opened(){return n()},onClose:a,closeOnOverlayClick:!1,closeOnEsc:!1,get children(){return[r(Pe,{}),r(Re,{get children(){return[r(Le,{get children(){return e("home.toolbar.package_download")}}),r(lt,{get fallback(){return r(Me,{})},get children(){return r(O,{get when(){return i()==="pre_tips"},get fallback(){return r(Oo,{onClose:a})},get children(){return[r(je,{get children(){const l=xo.cloneNode(!0);return en(l,()=>e("home.toolbar.pre_package_download-tips")),l}}),r(st,{display:"flex",gap:"$2",get children(){return[r(se,{onClick:a,colorScheme:"neutral",get children(){return e("global.cancel")}}),r(se,{colorScheme:"info",onClick:()=>{s("package_download")},get children(){return e("global.confirm")}})]}})]}})}})]}})]}})};function gn(e,t){e.indexOf(t)===-1&&e.push(t)}function Eo(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const fn=(e,t,n)=>Math.min(Math.max(n,e),t),j={duration:.3,delay:0,endDelay:0,repeat:0,easing:"ease"},we=e=>typeof e=="number",oe=e=>Array.isArray(e)&&!we(e[0]),Ao=(e,t,n)=>{const o=t-e;return((n-e)%o+o)%o+e};function To(e,t){return oe(e)?e[Ao(0,e.length,t)]:e}const pn=(e,t,n)=>-n*e+n*t+e,mn=()=>{},q=e=>e,mt=(e,t,n)=>t-e===0?1:(n-e)/(t-e);function vn(e,t){const n=e[e.length-1];for(let o=1;o<=t;o++){const a=mt(0,t,o);e.push(pn(n,1,a))}}function Fo(e){const t=[0];return vn(t,e-1),t}function Po(e,t=Fo(e.length),n=q){const o=e.length,a=o-t.length;return a>0&&vn(t,a),i=>{let s=0;for(;s<o-2&&!(i<t[s+1]);s++);let l=fn(0,1,mt(t[s],t[s+1],i));return l=To(n,s)(l),pn(e[s],e[s+1],l)}}const wn=e=>Array.isArray(e)&&we(e[0]),et=e=>typeof e=="object"&&Boolean(e.createAnimation),be=e=>typeof e=="function",Ro=e=>typeof e=="string",Ke={ms:e=>e*1e3,s:e=>e/1e3},bn=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Lo=1e-7,jo=12;function Io(e,t,n,o,a){let i,s,l=0;do s=t+(n-t)/2,i=bn(s,o,a)-e,i>0?n=s:t=s;while(Math.abs(i)>Lo&&++l<jo);return s}function fe(e,t,n,o){if(e===t&&n===o)return q;const a=i=>Io(i,0,1,e,n);return i=>i===0||i===1?i:bn(a(i),t,o)}const Do=(e,t="end")=>n=>{n=t==="end"?Math.min(n,.999):Math.max(n,.001);const o=n*e,a=t==="end"?Math.floor(o):Math.ceil(o);return fn(0,1,a/e)},Ot={ease:fe(.25,.1,.25,1),"ease-in":fe(.42,0,1,1),"ease-in-out":fe(.42,0,.58,1),"ease-out":fe(0,0,.58,1)},Vo=/\((.*?)\)/;function kt(e){if(be(e))return e;if(wn(e))return fe(...e);if(Ot[e])return Ot[e];if(e.startsWith("steps")){const t=Vo.exec(e);if(t){const n=t[1].split(",");return Do(parseFloat(n[0]),n[1].trim())}}return q}class Bo{constructor(t,n=[0,1],{easing:o,duration:a=j.duration,delay:i=j.delay,endDelay:s=j.endDelay,repeat:l=j.repeat,offset:u,direction:c="normal"}={}){if(this.startTime=null,this.rate=1,this.t=0,this.cancelTimestamp=null,this.easing=q,this.duration=0,this.totalDuration=0,this.repeat=0,this.playState="idle",this.finished=new Promise((d,h)=>{this.resolve=d,this.reject=h}),o=o||j.easing,et(o)){const d=o.createAnimation(n);o=d.easing,n=d.keyframes||n,a=d.duration||a}this.repeat=l,this.easing=oe(o)?q:kt(o),this.updateDuration(a);const g=Po(n,u,oe(o)?o.map(kt):q);this.tick=d=>{var h;i=i;let f=0;this.pauseTime!==void 0?f=this.pauseTime:f=(d-this.startTime)*this.rate,this.t=f,f/=1e3,f=Math.max(f-i,0),this.playState==="finished"&&this.pauseTime===void 0&&(f=this.totalDuration);const w=f/this.duration;let m=Math.floor(w),b=w%1;!b&&w>=1&&(b=1),b===1&&m--;const C=m%2;(c==="reverse"||c==="alternate"&&C||c==="alternate-reverse"&&!C)&&(b=1-b);const E=f>=this.totalDuration?1:Math.min(b,1),S=g(this.easing(E));t(S),this.pauseTime===void 0&&(this.playState==="finished"||f>=this.totalDuration+s)?(this.playState="finished",(h=this.resolve)===null||h===void 0||h.call(this,S)):this.playState!=="idle"&&(this.frameRequestId=requestAnimationFrame(this.tick))},this.play()}play(){const t=performance.now();this.playState="running",this.pauseTime!==void 0?this.startTime=t-this.pauseTime:this.startTime||(this.startTime=t),this.cancelTimestamp=this.startTime,this.pauseTime=void 0,this.frameRequestId=requestAnimationFrame(this.tick)}pause(){this.playState="paused",this.pauseTime=this.t}finish(){this.playState="finished",this.tick(0)}stop(){var t;this.playState="idle",this.frameRequestId!==void 0&&cancelAnimationFrame(this.frameRequestId),(t=this.reject)===null||t===void 0||t.call(this,!1)}cancel(){this.stop(),this.tick(this.cancelTimestamp)}reverse(){this.rate*=-1}commitStyles(){}updateDuration(t){this.duration=t,this.totalDuration=t*(this.repeat+1)}get currentTime(){return this.t}set currentTime(t){this.pauseTime!==void 0||this.rate===0?this.pauseTime=t:this.startTime=performance.now()-t/this.rate}get playbackRate(){return this.rate}set playbackRate(t){this.rate=t}}class zo{setAnimation(t){this.animation=t,t==null||t.finished.then(()=>this.clearAnimation()).catch(()=>{})}clearAnimation(){this.animation=this.generator=void 0}}const Ge=new WeakMap;function yn(e){return Ge.has(e)||Ge.set(e,{transforms:[],values:new Map}),Ge.get(e)}function Ho(e,t){return e.has(t)||e.set(t,new zo),e.get(t)}const Uo=["","X","Y","Z"],No=["translate","scale","rotate","skew"],ce={x:"translateX",y:"translateY",z:"translateZ"},Et={syntax:"<angle>",initialValue:"0deg",toDefaultUnit:e=>e+"deg"},qo={translate:{syntax:"<length-percentage>",initialValue:"0px",toDefaultUnit:e=>e+"px"},rotate:Et,scale:{syntax:"<number>",initialValue:1,toDefaultUnit:q},skew:Et},ue=new Map,He=e=>`--motion-${e}`,Te=["x","y","z"];No.forEach(e=>{Uo.forEach(t=>{Te.push(e+t),ue.set(He(e+t),qo[e])})});const Wo=(e,t)=>Te.indexOf(e)-Te.indexOf(t),Ko=new Set(Te),vt=e=>Ko.has(e),Go=(e,t)=>{ce[t]&&(t=ce[t]);const{transforms:n}=yn(e);gn(n,t),e.style.transform=Cn(n)},Cn=e=>e.sort(Wo).reduce(Xo,"").trim(),Xo=(e,t)=>`${e} ${t}(var(${He(t)}))`,tt=e=>e.startsWith("--"),At=new Set;function Qo(e){if(!At.has(e)){At.add(e);try{const{syntax:t,initialValue:n}=ue.has(e)?ue.get(e):{};CSS.registerProperty({name:e,inherits:!1,syntax:t,initialValue:n})}catch{}}}const Xe=(e,t)=>document.createElement("div").animate(e,t),Tt={cssRegisterProperty:()=>typeof CSS<"u"&&Object.hasOwnProperty.call(CSS,"registerProperty"),waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate"),partialKeyframes:()=>{try{Xe({opacity:[1]})}catch{return!1}return!0},finished:()=>Boolean(Xe({opacity:[0,1]},{duration:.001}).finished),linearEasing:()=>{try{Xe({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0}},Qe={},re={};for(const e in Tt)re[e]=()=>(Qe[e]===void 0&&(Qe[e]=Tt[e]()),Qe[e]);const Zo=.015,Jo=(e,t)=>{let n="";const o=Math.round(t/Zo);for(let a=0;a<o;a++)n+=e(mt(0,o-1,a))+", ";return n.substring(0,n.length-2)},Ft=(e,t)=>be(e)?re.linearEasing()?`linear(${Jo(e,t)})`:j.easing:wn(e)?Yo(e):e,Yo=([e,t,n,o])=>`cubic-bezier(${e}, ${t}, ${n}, ${o})`;function ea(e,t){for(let n=0;n<e.length;n++)e[n]===null&&(e[n]=n?e[n-1]:t());return e}const ta=e=>Array.isArray(e)?e:[e];function nt(e){return ce[e]&&(e=ce[e]),vt(e)?He(e):e}const pe={get:(e,t)=>{t=nt(t);let n=tt(t)?e.style.getPropertyValue(t):getComputedStyle(e)[t];if(!n&&n!==0){const o=ue.get(t);o&&(n=o.initialValue)}return n},set:(e,t,n)=>{t=nt(t),tt(t)?e.style.setProperty(t,n):e.style[t]=n}};function na(e,t=!0){if(!(!e||e.playState==="finished"))try{e.stop?e.stop():(t&&e.commitStyles(),e.cancel())}catch{}}function ra(e,t){var n;let o=(t==null?void 0:t.toDefaultUnit)||q;const a=e[e.length-1];if(Ro(a)){const i=((n=a.match(/(-?[\d.]+)([a-z%]*)/))===null||n===void 0?void 0:n[2])||"";i&&(o=s=>s+i)}return o}function oa(){return window.__MOTION_DEV_TOOLS_RECORD}function aa(e,t,n,o={},a){const i=oa(),s=o.record!==!1&&i;let l,{duration:u=j.duration,delay:c=j.delay,endDelay:g=j.endDelay,repeat:d=j.repeat,easing:h=j.easing,direction:f,offset:w,allowWebkitAcceleration:m=!1}=o;const b=yn(e),C=vt(t);let E=re.waapi();C&&Go(e,t);const S=nt(t),U=Ho(b.values,S),P=ue.get(S);return na(U.animation,!(et(h)&&U.generator)&&o.record!==!1),()=>{const K=()=>{var y,ge;return(ge=(y=pe.get(e,S))!==null&&y!==void 0?y:P==null?void 0:P.initialValue)!==null&&ge!==void 0?ge:0};let p=ea(ta(n),K);const R=ra(p,P);if(et(h)){const y=h.createAnimation(p,t!=="opacity",K,S,U);h=y.easing,p=y.keyframes||p,u=y.duration||u}if(tt(S)&&(re.cssRegisterProperty()?Qo(S):E=!1),C&&!re.linearEasing()&&(be(h)||oe(h)&&h.some(be))&&(E=!1),E){P&&(p=p.map(G=>we(G)?P.toDefaultUnit(G):G)),p.length===1&&(!re.partialKeyframes()||s)&&p.unshift(K());const y={delay:Ke.ms(c),duration:Ke.ms(u),endDelay:Ke.ms(g),easing:oe(h)?void 0:Ft(h,u),direction:f,iterations:d+1,fill:"both"};l=e.animate({[S]:p,offset:w,easing:oe(h)?h.map(G=>Ft(G,u)):void 0},y),l.finished||(l.finished=new Promise((G,xn)=>{l.onfinish=G,l.oncancel=xn}));const ge=p[p.length-1];l.finished.then(()=>{pe.set(e,S,ge),l.cancel()}).catch(mn),m||(l.playbackRate=1.000001)}else if(a&&C)p=p.map(y=>typeof y=="string"?parseFloat(y):y),p.length===1&&p.unshift(parseFloat(K())),l=new a(y=>{pe.set(e,S,R?R(y):y)},p,Object.assign(Object.assign({},o),{duration:u,easing:h}));else{const y=p[p.length-1];pe.set(e,S,P&&we(y)?P.toDefaultUnit(y):y)}return s&&i(e,t,p,{duration:u,delay:c,easing:h,repeat:d,offset:w},"motion-one"),U.setAnimation(l),l}}const sa=(e,t)=>e[t]?Object.assign(Object.assign({},e),e[t]):Object.assign({},e);function ia(e,t){var n;return typeof e=="string"?t?((n=t[e])!==null&&n!==void 0||(t[e]=document.querySelectorAll(e)),e=t[e]):e=document.querySelectorAll(e):e instanceof Element&&(e=[e]),Array.from(e||[])}function $n(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]]);return n}const la={any:0,all:1};function ca(e,t,{root:n,margin:o,amount:a="any"}={}){if(typeof IntersectionObserver>"u")return()=>{};const i=ia(e),s=new WeakMap,l=c=>{c.forEach(g=>{const d=s.get(g.target);if(g.isIntersecting!==Boolean(d))if(g.isIntersecting){const h=t(g);be(h)?s.set(g.target,h):u.unobserve(g.target)}else d&&(d(g),s.delete(g.target))})},u=new IntersectionObserver(l,{root:n,rootMargin:o,threshold:typeof a=="number"?a:la[a]});return i.forEach(c=>u.observe(c)),()=>u.disconnect()}function ua(e,t){return typeof e!=typeof t?!0:Array.isArray(e)&&Array.isArray(t)?!da(e,t):e!==t}function da(e,t){const n=t.length;if(n!==e.length)return!1;for(let o=0;o<n;o++)if(t[o]!==e[o])return!1;return!0}function ha(e){return typeof e=="object"}function Pt(e,t){if(ha(e))return e;if(e&&t)return t[e]}let W;function ga(){if(!W)return;const e=W.sort(pa).map(ma);e.forEach(Rt),e.forEach(Rt),W=void 0}function Ze(e){W?gn(W,e):(W=[e],requestAnimationFrame(ga))}function fa(e){W&&Eo(W,e)}const pa=(e,t)=>e.getDepth()-t.getDepth(),ma=e=>e.animateUpdates(),Rt=e=>e.next(),Lt=(e,t)=>new CustomEvent(e,{detail:{target:t}});function rt(e,t,n){e.dispatchEvent(new CustomEvent(t,{detail:{originalEvent:n}}))}function jt(e,t,n){e.dispatchEvent(new CustomEvent(t,{detail:{originalEntry:n}}))}const va={isActive:e=>Boolean(e.inView),subscribe:(e,{enable:t,disable:n},{inViewOptions:o={}})=>{const{once:a}=o,i=$n(o,["once"]);return ca(e,s=>{if(t(),jt(e,"viewenter",s),!a)return l=>{n(),jt(e,"viewleave",l)}},i)}},It=(e,t,n)=>o=>{o.pointerType&&o.pointerType!=="mouse"||(n(),rt(e,t,o))},wa={isActive:e=>Boolean(e.hover),subscribe:(e,{enable:t,disable:n})=>{const o=It(e,"hoverstart",t),a=It(e,"hoverend",n);return e.addEventListener("pointerenter",o),e.addEventListener("pointerleave",a),()=>{e.removeEventListener("pointerenter",o),e.removeEventListener("pointerleave",a)}}},ba={isActive:e=>Boolean(e.press),subscribe:(e,{enable:t,disable:n})=>{const o=i=>{n(),rt(e,"pressend",i),window.removeEventListener("pointerup",o)},a=i=>{t(),rt(e,"pressstart",i),window.addEventListener("pointerup",o)};return e.addEventListener("pointerdown",a),()=>{e.removeEventListener("pointerdown",a),window.removeEventListener("pointerup",o)}}},xe={inView:va,hover:wa,press:ba},Dt=["initial","animate",...Object.keys(xe),"exit"],ot=new WeakMap;function ya(e={},t){let n,o=t?t.getDepth()+1:0;const a={initial:!0,animate:!0},i={},s={};for(const m of Dt)s[m]=typeof e[m]=="string"?e[m]:t==null?void 0:t.getContext()[m];const l=e.initial===!1?"animate":"initial";let u=Pt(e[l]||s[l],e.variants)||{},c=$n(u,["transition"]);const g=Object.assign({},c);function*d(){var m,b;const C=c;c={};const E={};for(const p of Dt){if(!a[p])continue;const R=Pt(e[p]);if(!!R)for(const y in R)y!=="transition"&&(c[y]=R[y],E[y]=sa((b=(m=R.transition)!==null&&m!==void 0?m:e.transition)!==null&&b!==void 0?b:{},y))}const S=new Set([...Object.keys(c),...Object.keys(C)]),U=[];S.forEach(p=>{var R;c[p]===void 0&&(c[p]=g[p]),ua(C[p],c[p])&&((R=g[p])!==null&&R!==void 0||(g[p]=pe.get(n,p)),U.push(aa(n,p,c[p],E[p],Bo)))}),yield;const P=U.map(p=>p()).filter(Boolean);if(!P.length)return;const K=c;n.dispatchEvent(Lt("motionstart",K)),Promise.all(P.map(p=>p.finished)).then(()=>{n.dispatchEvent(Lt("motioncomplete",K))}).catch(mn)}const h=(m,b)=>()=>{a[m]=b,Ze(w)},f=()=>{for(const m in xe){const b=xe[m].isActive(e),C=i[m];b&&!C?i[m]=xe[m].subscribe(n,{enable:h(m,!0),disable:h(m,!1)},e):!b&&C&&(C(),delete i[m])}},w={update:m=>{!n||(e=m,f(),Ze(w))},setActive:(m,b)=>{!n||(a[m]=b,Ze(w))},animateUpdates:d,getDepth:()=>o,getTarget:()=>c,getOptions:()=>e,getContext:()=>s,mount:m=>(n=m,ot.set(n,w),f(),()=>{ot.delete(n),fa(w);for(const b in i)i[b]()}),isMounted:()=>Boolean(n)};return w}function Ca(e){const t={},n=[];for(let o in e){const a=e[o];vt(o)&&(ce[o]&&(o=ce[o]),n.push(o),o=He(o));let i=Array.isArray(a)?a[0]:a;const s=ue.get(o);s&&(i=we(a)?s.toDefaultUnit(a):a),t[o]=i}return n.length&&(t.transform=Cn(n)),t}const $a={initial:()=>!0,addCleanup:k,addMount:nn},at=tn(),Sn=tn($a);function Sa(e,t,n,o){const{addCleanup:a,addMount:i,initial:s}=n,l=ya(s()?t():{...t(),initial:!1},o);return i(Gn.bind(void 0,Xn(),()=>{a(l.mount(e())),Qt(()=>l.update(t()))})),l}const _a=/([^:; ]*):\s*([^;]*)/g;function Vt(e){const t={};let n;for(;n=_a.exec(e);)t[n[1]]=n[2];return t}function xa(e,t){if(typeof e=="object"&&typeof t=="object")return{...e,...t};if(typeof e=="string"&&typeof t=="string")return`${e};${t}`;const n=typeof e=="object"?e:Vt(e),o=typeof t=="object"?t:Vt(t);return{...n,...o}}const Bt=e=>{const[t,,n]=Qn(e,["initial","animate","inView","inViewOptions","hover","press","variants","transition","exit"],["tag","ref","style","onMotionStart","onMotionComplete","onHoverStart","onHoverEnd","onPressStart","onPressEnd","onViewEnter","onViewLeave"]),o=Sa(()=>i,()=>({...t}),bt(Sn),bt(at)),a=Ca(o.getTarget());let i;return r(at.Provider,{value:o,get children(){return r(Zt,Be({ref:s=>{var l;i=s,(l=e.ref)==null||l.call(e,s)},get component(){return rn(()=>e.tag||"div")},get style(){return Ee(()=>!!e.style,!0)()?xa(e.style,a):a},get["on:motionstart"](){return e.onMotionStart},get["on:motioncomplete"](){return e.onMotionComplete},get["on:hoverstart"](){return e.onHoverStart},get["on:hoverend"](){return e.onHoverEnd},get["on:pressstart"](){return e.onPressStart},get["on:pressend"](){return e.onPressEnd},get["on:viewenter"](){return e.onViewEnter},get["on:viewleave"](){return e.onViewLeave}},n))}})},_n=new Proxy(Bt,{get:(e,t)=>n=>(delete n.tag,r(Bt,Be(n,{tag:t})))}),Ma=e=>(e=Array.isArray(e)?e[0]:e,e instanceof Element?e:void 0),Oa=(e,t)=>{const n={once:!0};e.addEventListener("motioncomplete",t,n),k(e.removeEventListener.bind(e,"motioncomplete",t,n))},ka=e=>{let{initial:t=!0}=e;nn(()=>t=!0);let n=!1,o=[],a=[],i=[];return k(()=>{i.concat(a).forEach(s=>s()),a=i=o=[]}),r(Sn.Provider,{value:{addCleanup:s=>a.push(s),addMount:s=>o.push(s),initial:()=>t},get children(){return r(at.Provider,{value:void 0,get children(){return rn(()=>{const s=Zn(()=>e.children),l=te(()=>Ma(s())),[u,c]=ve(),[g,d]=ve();return Jn(it(l,w=>{i.push(...a),a=[],Yn(()=>{e.exitBeforeEnter?(c(),f(()=>!n&&h(w))):(h(w),f())})})),[u,g];function h(w){c(w),o.forEach(m=>m()),o=[]}function f(w){var E;const m=()=>{d(),i.forEach(S=>S()),i=[],w==null||w()},b=d((E=u())!=null?E:g());if(!b)return m();const C=ot.get(b);if(!C||!C.getOptions().exit)return m();C.setActive("exit",n=!0),Oa(b,()=>{n=!1,m()})}})}})}})},Ea=()=>{const e=te(()=>[$.Folder,$.FetchingMore].includes(_.state)&&er()&&tr());return r(ka,{exitBeforeEnter:!0,get children(){return r(O,{get when(){return e()},get children(){return r($e,{class:"center-toolbar",pos:"fixed",bottom:"$4",right:"50%",w:"max-content",color:"$neutral11",get as(){return _n.div},initial:{opacity:0,scale:.9,x:"50% ",y:10},animate:{opacity:1,scale:1,x:"50%",y:0},exit:{opacity:0,scale:.9},transition:{duration:.2},get children(){return r(N,{p:"$2",get bgColor(){return Ve("white","#000000d0")()},spacing:"$1",shadow:"0px 10px 30px -5px rgba(0, 0, 0, 0.3)",rounded:"$lg",css:{backdropFilter:"blur(8px)"},get children(){return[r(De,{each:["rename","move","copy","delete"],children:t=>r(Ae,{name:t,onClick:()=>{v.emit("tool",t)}})}),r(_o,{}),r(Mo,{}),r(Ae,{name:"cancel_select",onClick:()=>{nr(!1)}})]}})}})}})}})},Aa=()=>{const{isOpen:e,onToggle:t}=F({defaultIsOpen:localStorage.getItem("more-open")==="true",onClose:()=>localStorage.setItem("more-open","false"),onOpen:()=>localStorage.setItem("more-open","true")}),n=te(()=>e()?"$4":"$5"),o=te(()=>_.state===$.Folder),{refresh:a}=D();return r($e,{class:"left-toolbar-box",pos:"fixed",get right(){return n()},get bottom(){return n()},get children(){return r(O,{get when(){return e()},get fallback(){return r(L,{class:"toolbar-toggle",as:Ct,onClick:()=>{t()}})},get children(){return r(le,{class:"left-toolbar",p:"$1",rounded:"$lg",spacing:"$1",bgColor:"$neutral1",get as(){return _n.div},initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.6},transition:{duration:.2},get children(){return[r(le,{spacing:"$1",class:"left-toolbar-in",get children(){return[r(O,{get when(){return Ee(()=>!!o(),!0)()&&(yt("write")||_.write)},get children(){return[r(L,{as:Wr,tips:"refresh",onClick:()=>{a(void 0,!0)}}),r(L,{get as(){return J.new_file.icon},tips:"new_file",onClick:()=>{v.emit("tool","new_file")}}),r(L,{get as(){return J.mkdir.icon},p:"$1_5",tips:"mkdir",onClick:()=>{v.emit("tool","mkdir")}}),r(L,{get as(){return J.recursive_move.icon},tips:"recursive_move",onClick:()=>{v.emit("tool","recursiveMove")}}),r(L,{get as(){return J.regexRename.icon},tips:"regex_rename",onClick:()=>{v.emit("tool","regexRename")}}),r(L,{as:rr,tips:"upload",onClick:()=>{v.emit("tool","upload")}})]}}),r(O,{get when(){return Ee(()=>!!o(),!0)()&&yt("offline_download")},get children(){return r(L,{as:or,pl:"0",tips:"offline_download",onClick:()=>{v.emit("tool","offline_download")}})}}),r(L,{tips:"toggle_checkbox",as:bo,onClick:ar}),r(L,{as:sr,tips:"local_settings",onClick:()=>{v.emit("tool","local_settings")}})]}}),r(L,{tips:"more",as:Ct,onClick:t})]}})}})}})},Ta=()=>{const{isOpen:e,onOpen:t,onClose:n}=F(),[o,a]=I(Er),{pathname:i}=T(),{refresh:s}=D(),l=u=>{u==="copy"&&t()};return v.on("tool",l),k(()=>{v.off("tool",l)}),r(pt,{get opened(){return e()},onClose:n,get loading(){return o()},onSubmit:async u=>{const c=await a(i(),u,ae().map(g=>g.name));H(c,()=>{s(),n()})}})},Fa=()=>{const{isOpen:e,onOpen:t,onClose:n}=F(),[o,a]=I(Ar),{pathname:i}=T(),{refresh:s}=D(),l=u=>{u==="move"&&t()};return v.on("tool",l),k(()=>{v.off("tool",l)}),r(pt,{get opened(){return e()},onClose:n,get loading(){return o()},onSubmit:async u=>{const c=await a(i(),u,ae().map(g=>g.name));H(c,()=>{s(),n()})}})},Pa=ut("<p></p>"),Ra=()=>{const e=M(),{isOpen:t,onOpen:n,onClose:o}=F(),[a,i]=I(Tr),{refresh:s}=D(),{pathname:l}=T(),u=c=>{c==="delete"&&n()};return v.on("tool",u),k(()=>{v.off("tool",u)}),r(Ie,{blockScrollOnMount:!1,get opened(){return t()},onClose:o,size:{"@initial":"xs","@md":"md"},get children(){return[r(Pe,{}),r(Re,{get children(){return[r(Le,{get children(){return e("home.toolbar.delete")}}),r(je,{get children(){const c=Pa.cloneNode(!0);return en(c,()=>e("home.toolbar.delete-tips")),c}}),r(st,{display:"flex",gap:"$2",get children(){return[r(se,{onClick:o,colorScheme:"neutral",get children(){return e("global.cancel")}}),r(se,{colorScheme:"danger",get loading(){return a()},onClick:async()=>{const c=await i(l(),ae().map(g=>g.name));H(c,()=>{s(),o()})},get children(){return e("global.confirm")}})]}})]}})]}})},La=()=>{const{isOpen:e,onOpen:t,onClose:n}=F(),o=M(),[a,i]=I(Fr),{pathname:s}=T(),{refresh:l}=D(),u=c=>{if(c==="rename"){if(!ir()){Y.warning(o("home.toolbar.only_one-tips"));return}t()}};return v.on("tool",u),k(()=>{v.off("tool",u)}),r(O,{get when(){return e()},get children(){return r(Se,{title:"home.toolbar.input_new_name",get opened(){return e()},onClose:n,get defaultValue(){var c,g;return(g=(c=ae()[0])==null?void 0:c.name)!=null?g:""},get loading(){return a()},onSubmit:async c=>{const g=await i(Fe(s(),ae()[0].name),c);H(g,()=>{l(),n()})}})}})},ja=()=>{const{isOpen:e,onOpen:t,onClose:n}=F(),[o,a]=I(Pr),{refresh:i}=D(),{pathname:s}=T(),l=u=>{u==="new_file"&&t()};return v.on("tool",l),k(()=>{v.off("tool",l)}),r(Se,{title:"home.toolbar.input_filename",get opened(){return e()},onClose:n,get loading(){return o()},onSubmit:async u=>{const c=await a(Fe(s(),u),Je());H(c,()=>{i(),n()})}})},Ia=()=>{const{isOpen:e,onOpen:t,onClose:n}=F(),[o,a]=I(Rr),{pathname:i}=T(),{refresh:s}=D(),l=u=>{u==="mkdir"&&t()};return v.on("tool",l),k(()=>{v.off("tool",l)}),r(Se,{title:"home.toolbar.input_dir_name",get opened(){return e()},onClose:n,get loading(){return o()},onSubmit:async u=>{const c=await a(Fe(i(),u));H(c,()=>{s(),n()})}})},Da=()=>{const{isOpen:e,onOpen:t,onClose:n}=F(),[o,a]=I(Lr),{pathname:i}=T(),{refresh:s}=D(),l=u=>{u==="recursiveMove"&&t()};return v.on("tool",l),k(()=>{v.off("tool",l)}),r(pt,{get opened(){return e()},onClose:n,get loading(){return o()},onSubmit:async u=>{const c=await a(i(),u);H(c,()=>{s(),n()})}})},Va=()=>{const{isOpen:e,onOpen:t,onClose:n}=F(),[o,a]=I(jr),{pathname:i}=T(),{refresh:s}=D(),l=u=>{u==="regexRename"&&t()};return v.on("tool",l),k(()=>{v.off("tool",l)}),r(Se,{title:"\u6B63\u5219\u91CD\u547D\u540D\u6587\u4EF6",get opened(){return e()},onClose:n,get loading(){return o()},onSubmit:async u=>{const c=u.split(`
`),g=await a(i(),c[0],c[1]);H(g,()=>{s(),n()})}})},Ba=()=>{const e=M(),[t,n]=ve("aria2"),{isOpen:o,onOpen:a,onClose:i}=F(),[s,l]=I(Ir),{pathname:u}=T(),c=g=>{g==="offline_download"&&a()};return v.on("tool",c),k(()=>{v.off("tool",c)}),r(Se,{title:"home.toolbar.offline_download",type:"text",get opened(){return o()},onClose:i,get loading(){return s()},get tips(){return e("home.toolbar.offline_download-tips")},get topSlot(){return r($e,{mb:"$2",get children(){return r(lr,{get value(){return t()},onChange:g=>n(g),options:[{value:"aria2",label:"Aria2"},{value:"qbit",label:"qBittorrent"}]})}})},onSubmit:async g=>{const d=await l(u(),g.split(`
`),t());H(d,()=>{i()})}})},za=e=>{const t=M(),n=s=>{s===e.name&&a()};v.on("tool",n),k(()=>{v.off("tool",n)});const{isOpen:o,onOpen:a,onClose:i}=F();return r(Ie,{get blockScrollOnMount(){return e.blockScrollOnMount},get opened(){return o()},onClose:i,closeOnOverlayClick:!1,closeOnEsc:!1,size:{"@initial":"xs","@md":"md","@lg":"lg","@xl":"xl","@2xl":"2xl"},get children(){return[r(Pe,{}),r(Re,{get children(){return[r(cr,{}),r(Le,{get children(){return t(e.title)}}),r(je,{get children(){return r(O,{get when(){return o()},get children(){return r(lt,{get fallback(){return r(Me,{})},get children(){return e.children}})}})}})]}})]}})},Ha=e=>{const t=M();return r(Cr,{get children(){return[r(br,{get children(){return t(`home.local_settings.${e.name}`)}}),r(Kt,{get value(){return Wt[e.name]},onInput:n=>{yr(e.name,n.currentTarget.value)}})]}})},Ua=()=>{const{isOpen:e,onOpen:t,onClose:n}=F(),o=M(),a=i=>{i==="local_settings"&&t()};return v.on("tool",a),k(()=>{v.off("tool",a)}),r(wr,{get opened(){return e()},placement:"right",onClose:n,get children(){return[r(ur,{}),r(dr,{get children(){return[r(hr,{}),r(gr,{color:"$info9",get children(){return o("home.toolbar.local_settings")}}),r(fr,{get children(){return[r(le,{spacing:"$2",get children(){return r(De,{get each(){return Object.keys(pr)},children:i=>r(Ha,{name:i})})}}),r(Jt,{mt:"$4",get children(){return r(N,{spacing:"$4",p:"$2",color:"$neutral11",get children(){return[r(mr,{}),r(vr,{})]}})}})]}})]}})]}})},Na=ye(()=>Ce(()=>import("./Upload.524a0fcd.js"),["assets/Upload.524a0fcd.js","assets/index.0596c76d.js","assets/index.15d8d646.css","assets/index.933129fa.js"])),qa=()=>[r(Ta,{}),r(Fa,{}),r(La,{}),r(Ra,{}),r(ja,{}),r(Ia,{}),r(Da,{}),r(Va,{}),r(Ba,{}),r(ko,{}),r(za,{name:"upload",title:"home.toolbar.upload",get children(){return r(Na,{})}}),r(Ua,{})],Wa=()=>r($r,{get children(){return[r(Aa,{}),r(Ea,{}),r(qa,{})]}}),Ka=()=>{xr(ie("site_title"));const e=ie("announcement");return e&&Y.render(()=>r(sn,{children:e})),[r(wo,{}),r(Wa,{}),r(oo,{}),r(so,{})]},as=Object.freeze(Object.defineProperty({__proto__:null,default:Ka},Symbol.toStringTag,{value:"Module"}));export{os as I,as as L,_n as M,rs as T,D as a,Xr as b,ns as g,vo as i,J as o,Zr as u};
